destination: docs

home:
  strip_header: true

reference:
  - title: Planning and Prep
    desc: >
      Should you need to understand your data a bit more, use the `scan_data()`
      function. It provides a comprehensive report on the data you might be
      planning on validating. If going down the road of preparing a data quality
      analysis, call on an *agent* to carry out that eventual plan with
      `create_agent()`. The agent here is to be told which table is the target,
      and, we devise a stepwise validation plan with validation functions. If
      collecting and reporting on table metadata is your goal, then begin with
      the `create_metadata()` function.
    contents:
    - scan_data
    - create_agent
    - create_metadata
    - validate_rmd
    - action_levels
    - col_schema

  - title: Validation, Expectation, and Test Functions
    desc: >
      Validation steps are either used with an **agent** object or, more simply,
      just with the table of interest. When used with an *agent*, each step
      function called works to build up a validation plan (which is executed
      with the `interrogate()` function). If used directly on data (that is, no
      agent is involved whatsoever), then the data is checked and passed
      through. However, if we (1) set `warn_*` and/or `stop_*` thresholds and
      (2) the level of failed validation units exceeds those set levels, then
      we'll get either a warning or a stop. Each validation step function is
      assoicated with an expectation function (of the form `expect_*()`). These
      expectation functions are equivalent in usage and behavior to those in
      the **testthat** package. Finallly, each validation function has an
      associated test function (of the form `test_*()`) which always returns a
      logical value.
    contents:
    - col_vals_lt
    - col_vals_lte
    - col_vals_equal
    - col_vals_not_equal
    - col_vals_gte
    - col_vals_gt
    - col_vals_between
    - col_vals_not_between
    - col_vals_in_set
    - col_vals_not_in_set
    - col_vals_null
    - col_vals_not_null
    - col_vals_regex
    - col_vals_expr
    - conjointly
    - rows_distinct
    - col_is_character
    - col_is_numeric
    - col_is_integer
    - col_is_logical
    - col_is_date
    - col_is_posix
    - col_is_factor
    - col_exists
    - col_schema_match
    
  - title: Metadata Building Functions
    desc: >
      We can progressively add metadata to a metadata object by using the
      collection of `meta_*()` functions. We can add more table-based properties
      with the `meta_table()`, details about the nature of each column with the
      `meta_columns()` function, and add sections of our own choosing (and the
      properties that make sense for those sections) with the `meta_section()`
      function. Snippets of information gleaned from the target table by using
      the `meta_snippet()` function. These bits of information can be
      incorporated in text defined by the other `meta_*()` functions.
    contents:
    - meta_table
    - meta_columns
    - meta_section
    - meta_snippet
    
  - title: Emailing
    desc: >
      Sometimes we want to email a report of a validation because of the
      importance of the information contained therein. The `email_blast()`
      function can be used within the `end_fns` argument of `create_agent()`,
      giving us options to send a customizable message only if specified
      conditions are met.
    contents:
    - email_blast
    - email_preview
    - stock_msg_body
    - stock_msg_footer
    
  - title: "Agent: Interrogate and Report"
    desc: >
      If we have an **agent** object that has a plan (i.e., validation steps),
      the `interrogate()` function instructs the *agent* to interrogate the
      `tbl` data. The agent will go to work and also perform side-effect 
      functions at the step level and upon completion (if those are functions
      are defined). After interrogation, we can get a report through printing,
      however, we can take advantage of more options by using the
      `get_agent_report()` function. 
    contents:
    - interrogate
    - get_agent_report
    
  - title: "Metadata: Incorporate and Report"
    desc: >
      If we have an **metadata** object that has been loaded with information
      from using the `meta_*()` functions, the `incorporate()` function works
      to recalculate snippets and integrate those into the text. After
      incorporation of the new data into the metadata elements, we can get a
      metadata report through printing, or, by using `get_metadata_report()`
      function.
    contents:
    - incorporate
    - get_metadata_report
    
  - title: Post-interrogation
    desc: >
      The agent always has a special list called an x-list. Access that by
      invoking the `get_agent_x_list()` and you'll then have a smorgasbord of
      information about how the validation went down. Table extracts are
      collected by default for failed rows (up to a limit) and we can access
      those with `get_data_extracts()`. Table rows can be sundered into 'pass'
      and 'fail' pieces. Access those table fragments with the
      `get_sundered_data()` function. Want to know if all validation steps have
      passed with flying colors? Sometimes that could happen; use the
      `all_passed()` function to find out.
    contents:
    - get_agent_x_list
    - get_data_extracts
    - get_sundered_data
    - all_passed
    
  - title: Agent Ops
    desc: >
      We have options for writing an agent to disk with the `agent_write()`
      function (useful for keeping data validation intel close at hand). The 
      agent can be retrieved with the `agent_read()` function. A set of
      functions for setting and removing an agent's association to a data table
      or a table-reading function is also available in this function family.
    contents:
    - agent_write
    - agent_read
    - set_tbl
    - remove_tbl
    - set_read_fn
    - remove_read_fn
  
  - title: pointblank YAML
    desc: >
      YAML files can be used in **pointblank** for two distinct purposes: (1)
      to define agents and their validation plans, and (2) to define metadata
      for tables.  The `agent_yaml_*()` functions allow us write agent YAML from
      an existing agent, create an agent from the corresponding YAML, or
      interrogate a table directly from an agent YAML file. On the table
      metadata side, there are currently two functions (`meta_yaml_write()` and
      `get_metadata_report()`) that produce metadata YAML from a table or agent,
      and, generate a report from the YAML file.
    contents:
    - yaml_write
    - agent_yaml_read
    - meta_yaml_read
    - agent_yaml_interrogate
    - agent_yaml_string
    - agent_yaml_show_exprs
    
  - title: Datasets
    contents:
    - small_table
    - small_table_sqlite
    
navbar:
  type: default
  left:
  - text: Intro
    href: articles/intro-to-pointblank.html
  - text: Reference
    href: reference/index.html
  - text: News
    href: news/index.html
  right:
  - icon: fa-github fa-lg
    href: https://github.com/rich-iannone/pointblank

development:
  version_tooltip: "Development version"
