<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Given a metadata object, update and incorporate table snippets — incorporate • pointblank</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Given a metadata object, update and incorporate table snippets — incorporate" />
<meta property="og:description" content="When the metadata object has a number of snippets available (by using
meta_snippet()) and the strings to use them (by using the meta_*()
functions and {&amp;lt;snippet_name&amp;gt;} in the text elements), the process of
incorporating aspects of the table into the metadata text can occur by
using the incorporate() function. After that, the metadata will fully
updated (getting the current state of table dimensions, rerendering the
metadata text, etc.) and we can print the metadata object or use the
get_metadata_report() function to see the metadata report." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pointblank</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">0.5.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/intro-to-pointblank.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rich-iannone/pointblank">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Given a metadata object, update and incorporate table snippets</h1>
    <small class="dont-index">Source: <a href='https://github.com/rich-iannone/pointblank/blob/master/R/incorporate.R'><code>R/incorporate.R</code></a></small>
    <div class="hidden name"><code>incorporate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>When the <em>metadata</em> object has a number of snippets available (by using
<code><a href='meta_snippet.html'>meta_snippet()</a></code>) and the strings to use them (by using the <code>meta_*()</code>
functions and <code>{&lt;snippet_name&gt;}</code> in the text elements), the process of
incorporating aspects of the table into the metadata text can occur by
using the <code>incorporate()</code> function. After that, the metadata will fully
updated (getting the current state of table dimensions, rerendering the
metadata text, etc.) and we can print the <em>metadata</em> object or use the
<code><a href='get_metadata_report.html'>get_metadata_report()</a></code> function to see the metadata report.</p>
    </div>

    <pre class="usage"><span class='fu'>incorporate</span>(<span class='kw'>metadata</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>metadata</th>
      <td><p>A metadata object of class <code>ptblank_metadata</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>ptblank_metadata</code> object.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Take the `small_table` and</span>
<span class='co'># assign it to `test_table`; we'll</span>
<span class='co'># modify it later</span>
<span class='kw'>test_table</span> <span class='op'>&lt;-</span> <span class='kw'>small_table</span>

<span class='co'># Generate a metadata object, add</span>
<span class='co'># two snippets with `meta_snippet()`,</span>
<span class='co'># add metadata with some other</span>
<span class='co'># `meta_*()` functions and then</span>
<span class='co'># `incorporate()` the snippets into</span>
<span class='co'># the metadata text</span>
<span class='kw'>metadata</span> <span class='op'>&lt;-</span> 
  <span class='fu'><a href='create_metadata.html'>create_metadata</a></span>(
    read_fn = <span class='op'>~</span><span class='kw'>test_table</span>,
    tbl_name = <span class='st'>"test_table"</span>
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_snippet.html'>meta_snippet</a></span>(
    snippet_name = <span class='st'>"row_count"</span>,
    fn = <span class='op'>~</span> <span class='kw'>.</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span>()
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_snippet.html'>meta_snippet</a></span>(
    snippet_name = <span class='st'>"col_count"</span>,
    fn = <span class='op'>~</span> <span class='kw'>.</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>ncol</a></span>()
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_columns.html'>meta_columns</a></span>(
    columns = <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='kw'>a</span>),
    info = <span class='st'>"In the range of 1 to 10. (SIMPLE)"</span>
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_columns.html'>meta_columns</a></span>(
    columns = <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span>(<span class='st'>"date"</span>),
    info = <span class='st'>"Time-based values (e.g., `Sys.time()`)."</span>
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_columns.html'>meta_columns</a></span>(
    columns = <span class='st'>"date"</span>,
    info = <span class='st'>"The date part of `date_time`. (CALC)"</span>
  ) <span class='op'>%&gt;%</span>
  <span class='fu'><a href='meta_section.html'>meta_section</a></span>(
    section_name = <span class='st'>"rows"</span>,
    row_count = <span class='st'>"There are {row_count} rows available."</span>
  ) <span class='op'>%&gt;%</span>
  <span class='fu'>incorporate</span>()
</div><div class='output co'>#&gt; <span class='error'>Error in rlang::eval_tidy(.): object 'test_table' not found</span></div><div class='input'>
<span class='co'># We can print the `metadata`</span>
<span class='co'># object to see the metadata report</span>
<span class='co'># metadata</span>

<span class='co'># Let's modify `test_table` to give</span>
<span class='co'># it more rows and an extra column</span>
<span class='kw'>test_table</span> <span class='op'>&lt;-</span> 
  <span class='kw'>dplyr</span>::<span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></span>(<span class='kw'>test_table</span>, <span class='kw'>test_table</span>) <span class='op'>%&gt;%</span>
  <span class='kw'>dplyr</span>::<span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(h = <span class='kw'>a</span> <span class='op'>+</span> <span class='kw'>c</span>)

<span class='co'># Using `incorporate()` will cause</span>
<span class='co'># the snippets to be reprocessed, and,</span>
<span class='co'># the strings to be updated</span>
<span class='co'># metadata %&gt;% incorporate()</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Richard Iannone, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


